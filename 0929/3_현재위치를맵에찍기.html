<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>geolocation을 이용하여 현재위치얻기</title>
    <style>
        #map {
            width: 600px;
            height: 600px;
            border: 1px solid #424242;
        }
    </style>
</head>
<body>
<button>현재위치얻기</button>
<div id="map"></div>
<script src="js/jquery.js"></script>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=a3e8c56fb76c13aefe1a4dc6c2ee406f"></script>
<script>
    let mapContainer = document.getElementById('map'), // 지도를 표시할 div
        mapOption = {
            center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
            level: 3, // 지도의 확대 레벨
        };

    let map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다




    $("button").click(function (){
    /*
        navigator.geolocation.watchPosition()//바뀌는데로
        navigator.geolocation.clearWatch()//그만보기
        navigator.geolocation.getCurrentPosition()//현재위치 한번만
    */
        navigator.geolocation.getCurrentPosition(function (position) {
            // alert("성공");
            const lat = position.coords.latitude;
            const lng = position.coords.longitude;
            //위치 객체
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   map.setCenter(latLng);


            var marker = new kakao.maps.Marker({
                position: latLng
            });

            // 마커가 지도 위에 표시되도록 설정합니다
            marker.setMap(map);

        },function () {
            alert("실패");
        })//현재위치 한번만

    });//click end
</script>
</body>
</html>